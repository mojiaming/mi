<!--
  Generated template for the PddGoodsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-searchbar placeholder="输入您想搜索的商品名称" showCancelButton="true" cancelButtonText="搜索" (ionCancel)="onSearch()"
      [(ngModel)]="searchtext" (keyup.enter)="onSearch()" *ngIf="!name"></ion-searchbar>
    <ion-title *ngIf="name">{{name}}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>

  <ion-slides id="slides1" autoplay="1" loop="true" speed="1000" pager="true" #slides autoplay="5000" *ngIf="themeList.length > 0 && !name">
    <ion-slide (click)="onDaili(item)" tappable *ngFor="let item of themeList">
      <img [src]="item.image_url" />
    </ion-slide>
  </ion-slides>

  <ion-row class="i" text-center *ngIf="!name">
    <ion-col tappale (click)="onRecommend(0,'1.9包邮')">
      <img src="assets/imgs/19.png" />
      <p>1.9包邮</p>
    </ion-col>

    <ion-col tappale (click)="onRecommend(2,'品牌清仓')">
      <img src="assets/imgs/qingcang.png" />
      <p>品牌清仓</p>
    </ion-col>


    <ion-col tappale (click)="onRecommend(3,'限时秒杀')">
      <img src="assets/imgs/miaosha.png" />
      <p>限时秒杀</p>
    </ion-col>

    <ion-col tappale (click)="onRecommend(4,'充值中心')">
      <img src="assets/imgs/chongzhi.png" />
      <p>充值中心</p>
    </ion-col>

    <ion-col tappale (click)="onRecommend(5,'电器城')">
      <img src="assets/imgs/dianqi.png" />
      <p>电器城</p>
    </ion-col>



  </ion-row>

  <ion-grid>
    <ion-row>
      <ion-col col-6 *ngFor="let item of topGoodsList" tappable (click)="onItem(item)">
        <samp class="info" *ngIf="item.commission && item.commission > 0">佣金约{{item.commission}}</samp>
        <img [src]="item.goods_thumbnail_url" />
        <p class="titel">{{item.goods_name}}</p>

        <ion-row>
          <ion-col col-7 class="border">
            <p class="red">￥{{item.min_group_price/100}} <samp class="yuanjia">￥{{item.min_normal_price/100}}</samp></p>
          </ion-col>
          <ion-col col-5 text-right class="border" *ngIf="item.coupon_discount">
            <p><samp text-right class="juan overflow">{{item.coupon_discount/100}}元卷</samp></p>
          </ion-col>
        </ion-row>
        <p class="yishou">已抢 {{item.sales_tip}}</p>

      </ion-col>
    </ion-row>
  </ion-grid>
  <p text-center class="dixian" *ngIf="ban">-----已经到底啦！我也是有底线的-----</p>
  <ion-infinite-scroll (ionInfinite)="doInfinite($event)" *ngIf="!ban">
    <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="努力加载中..."></ion-infinite-scroll-content>
  </ion-infinite-scroll>

  <ion-go-home></ion-go-home>
  
</ion-content>