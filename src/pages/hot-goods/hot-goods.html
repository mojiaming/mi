<!--
  Generated template for the HotGoodsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>2小时内销量前100排行榜</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
  <ion-segment [(ngModel)]="segmentModel" mode="md">

    <ion-segment-button value="1">
        实时销量TOP100
    </ion-segment-button>

    <ion-segment-button value="2">
        人气爆款TOP100
    </ion-segment-button>
  </ion-segment>

  <div [ngSwitch]="segmentModel">
    <div>
      <ion-list *ngSwitchCase="'1'">
        <ion-grid>
          <ion-row>
            <ion-col col-6 *ngFor="let item of oneData.list;" tappable (click)="onGoods(item)">
              <span class="today-wrapper"><span>TOP</span><br><span>{{item.ranking}}</span></span>
              <samp class="info" *ngIf="item.commissionRate && item.commission > 0">佣金约{{item.commission }}</samp>
              <img [src]="item.pic" />
              <p class="titel"><span *ngIf="item.tchaoshi == 1">天猫</span>{{item.title}}</p>
              <ion-row>
                <ion-col col-7 class="border">
                  <p class="red">￥{{item.actualPrice}} <samp class="yuanjia">￥{{item.originPrice}}</samp></p>
                </ion-col>
                <ion-col col-5 text-right class="border" *ngIf="item.couponPrice">
                  <p><samp text-right class="juan overflow">{{item.couponPrice}}元卷</samp></p>
                </ion-col>
              </ion-row>
              <p class="yishou">已抢 {{item.dailySales}}</p>

            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-list>
      <p text-center class="dixian" *ngIf="oneData.ban && segmentModel =='1'">-----已经到底啦！我也是有底线的-----</p>
      <ion-infinite-scroll (ionInfinite)="doInfinite($event)" *ngIf="!oneData.ban && segmentModel =='1'">
        <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="努力加载中..."></ion-infinite-scroll-content>
      </ion-infinite-scroll>
    </div>


    <div>
      <ion-list *ngSwitchCase="'2'">
        <ion-grid>
          <ion-row>
            <ion-col col-6 *ngFor="let item of towData.list;" tappable (click)="onGoods(item)">
              <span class="today-wrapper"><span>TOP</span><br><span>{{item.ranking}}</span></span>

              <samp class="info" *ngIf="item.commissionRate && item.commission > 0">佣金约{{item.commission }}</samp>
              <img [src]="item.pic" />
              <p class="titel"><span *ngIf="item.tchaoshi == 1">天猫</span>{{item.title}}</p>
              <ion-row>
                <ion-col col-7 class="border">
                  <p class="red">￥{{item.actualPrice}} <samp class="yuanjia">￥{{item.originPrice}}</samp></p>
                </ion-col>
                <ion-col col-5 text-right class="border" *ngIf="item.couponPrice">
                  <p><samp text-right class="juan overflow">{{item.couponPrice}}元卷</samp></p>
                </ion-col>
              </ion-row>
              <p class="yishou">已抢 {{item.dailySales}}</p>

            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-list>
      <p text-center class="dixian" *ngIf="towData.ban && segmentModel =='2'">-----已经到底啦！我也是有底线的-----</p>
      <ion-infinite-scroll (ionInfinite)="doInfinite($event)" *ngIf="!towData.ban  && segmentModel =='2'">
        <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="努力加载中..."></ion-infinite-scroll-content>
      </ion-infinite-scroll>
    </div>
  </div>
  <img src="assets/imgs/back.png" class="back-img" tappable (click)="scrollToTop()" />
</ion-content>